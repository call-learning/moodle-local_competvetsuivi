define ("local_competvetsuivi/d3-utils",["jquery","core/config"],function(a,b){var c=require.config({paths:{"d3-progress":b.wwwroot+"/lib/javascript.php/"+b.jsrev+"/local/competvetsuivi/js/d3-libraries/progress/d3-progress"+(b.developerdebug?".min":""),d3:b.wwwroot+"/lib/javascript.php/"+b.jsrev+"/local/competvetsuivi/js/d3/d3"+(b.developerdebug?".min":"")},map:{"d3-progress":{"d3-axis":"d3","d3-scale":"d3","d3-format":"d3","d3-transition":"d3","d3-shape":"d3","d3-selection":"d3"}},shim:{"d3-progress":{deps:["d3","d3-axis","d3-scale","d3-format","d3-transition","d3-shape","d3-selection"]},d3:{exports:"d3"}}});return{default_padding:{top:10,right:5,bottom:1,left:5},default_progress_chart_height:125,default_doghnut_chart_height:400,progress_charts:function progress_charts(b,d,e){this.load_css("/local/competvetsuivi/js/d3-libraries/progress/d3-progress.css");c(["d3","d3-progress"],function(c,f){var g="#"+b,h=a(g).first(),i=this,j=function(){var a=h.parent().innerWidth(),b=i.default_progress_chart_height;if(e){if(e.size!==void 0){if(e.size.height!==void 0&&0!=e.size.height){b=e.size.height?e.size.height:h.height()}if(e.size.width!==void 0&&0!=e.size.height){a=e.size.width?e.size.width:a}}}var j=f.progress().width(a).height(b).data(d);c.select(g).call(j)};a(document).ready(j);a(window).bind("resize",function(){a(h).empty();j()})})},ring_charts:function ring_charts(b,e,f){var g=this;this.load_css("/local/competvetsuivi/js/d3-libraries/progress/d3-progress.css");c(["d3"],function(c){g.add_doghnut_patterns_definitions(c);var d="#"+b,h=a(d).first(),i=g.default_padding,j=function(){var a=h.parent().innerWidth(),b=h.parent().innerHeight();if(f){if(f.size!==void 0){if(f.size.height!==void 0&&0!=f.size.height){b=f.size.height?f.size.height:h.height()}if(f.size.width!==void 0&&0!=f.size.width){a=f.size.width?f.size.width:a}}if(f.padding!==void 0&&f.padding.top!==void 0&&f.padding.left!==void 0&&f.padding.right!==void 0&&f.padding.bottom!==void 0){i=f.padding}}var j=Math.min(a,b)/2,k=c.arc().outerRadius(j-10).innerRadius(j/1.3),l=c.select(d).attr("width",a).attr("height",b).append("g").attr("transform","translate("+(a/2+i.left)+","+(b/2+i.top)+")"),m=c.pie().value(function(a){return a.val}).sort(null),n=m(Object.values(e.compsvalues)),o=l.selectAll(".arc").data(n).enter().append("g").attr("class","arc");o.append("path").attr("d",k).attr("class",function(a){return"macrocomp-"+a.data.colorindex+" arc-bg"});var g=function(a){var b=a.endAngle-a.startAngle,c=Object.assign({},a),d="undefined"!==a.data.strandvals[e.overlaystrandid]?a.data.strandvals[e.overlaystrandid].val:0;c.endAngle=a.startAngle+d*b;return k(c)};o.append("path").attr("d",function(a){return g(a)}).attr("fill",function(){return"url(#doghnut-p"+e.overlaystrandid+")"}).attr("fill-opacity","60%");o.append("text").attr("class","doghnut-text-percent").attr("transform",function(a){var a=k.centroid(a);a[0]*=.6;a[1]*=.6;return"translate("+a+")"}).attr("dy",".50em").style("text-anchor","middle").text(function(a){var b=Math.round(100*a.value);if(10>b){return""}return b+"%"})};a(document).ready(j);a(window).bind("resize",function(){a(h).empty();j()})})},load_css:function load_css(c){var d=b.wwwroot+c;if(0===a("link[href='"+d+"']").length){var e=document.createElement("link");e.type="text/css";e.rel="stylesheet";e.href=d;document.getElementsByTagName("head")[0].appendChild(e)}},add_doghnut_patterns_definitions:function add_doghnut_patterns_definitions(a){var b=a.select("body").select("svg#d3progresspatternsdef");if(b.empty()){a.select("body").append("svg").attr("id","d3utilspatternsdef").append("defs").selectAll("pattern").data([{pattername:"doghnut-p1",imagedef:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHhtbG5zOnhsaW5rPSdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJyB3aWR0aD0nNicgaGVpZ2h0PSc2Jz4KICA8cmVjdCB3aWR0aD0nNicgaGVpZ2h0PSc2JyBmaWxsPScjZWVlZWVlJy8+CiAgPGcgaWQ9J2MnPgogICAgPHJlY3Qgd2lkdGg9JzMnIGhlaWdodD0nMycgZmlsbD0nI2U2ZTZlNicvPgogICAgPHJlY3QgeT0nMScgd2lkdGg9JzMnIGhlaWdodD0nMicgZmlsbD0nI2Q4ZDhkOCcvPgogIDwvZz4KICA8dXNlIHhsaW5rOmhyZWY9JyNjJyB4PSczJyB5PSczJy8+Cjwvc3ZnPg=="}]).enter().append("pattern").attr("id",function(a){return a.pattername}).attr("patternUnits","userSpaceOnUse").attr("width",10).attr("height",10).append("image").attr("xlink:href",function(a){return a.imagedef}).attr("x",0).attr("y",0).attr("width",10).attr("height",10)}}}});
//# sourceMappingURL=d3-utils.min.js.map
