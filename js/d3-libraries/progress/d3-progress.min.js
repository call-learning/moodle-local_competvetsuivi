// https://github.com/call-learning/d3-progress.git v1.0.0 Copyright 2019 Laurent David
    //  https://github.com/call-learning/d3-progress v1.0.0. Copyright 2019 SAS CALL Learning
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("d3-selection"),require("d3-axis"),require("d3-scale"),require("d3-shape")):"function"==typeof define&&define.amd?define(["exports","d3-selection","d3-axis","d3-scale","d3-shape"],e):e((t=t||self).d3=t.d3||{},t.d3,t.d3,t.d3,t.d3)}(this,(function(t,e,a,r,n){"use strict";t.progress=function(){let t={},d=960,i=100,c={top:20,right:5,bottom:30,left:15},s=function(){return d-c.left-c.right},o=function(){return i-c.top-c.bottom},l=.05,g=.1,p=[0,.25,.5,.75,1];function u(e){u.addPatternDefinition(),u.addFilterDefinition(2,2,2,"linear",.5);let f=e.attr("width",d).attr("height",i).append("g").attr("class","progress-cvs").attr("transform",`translate(${c.left},0)`),h=s()*(1-2*l),m=o()*(1-2*g),y=f.append("g").attr("width",h).attr("height",m).attr("transform",`translate(0,${c.top})`);const x=r.scaleLinear().domain([0,1]).range([0,h]);y.append("rect").attr("class","background-bar").attr("width",h).attr("height",m).attr("rx",m*g).attr("ry",m*g).attr("x",0).attr("y",0);const v=c.bottom/3,b=f.append("g").attr("class","axisgraph");b.attr("transform",`translate(0,${m+c.top})`).call(a.axisBottom(x).tickValues(p).tickFormat((function(t){return Math.round(100*t)})).tickSize(v)),b.select(".domain").remove(),b.attr("font-size",v),t.forEach((function(e,a){var r=y.append("g").attr("width",h).attr("height",m/t.length).attr("rx",m*g).attr("ry",m*g).attr("class","comptype-"+e.result.type).attr("transform",`translate(0,${a*(m/t.length)})`);u.barCVS(e,r,m/t.length,x,h)}));let C=t.map((function(t){return t.result.value}));var J=Math.sqrt(s()/25);const P=f.selectAll("g.resultmarker").data(C).enter().append("g").attr("class","resultmarker").attr("transform",(function(t,e){return`translate(${x(t)},${function(t){return t%2?o()+c.top:c.top-J}(e)})`}));var z=n.symbol().size(J*J).type(n.symbolTriangle);P.append("path").attr("class","value-arrow").attr("d",(function(){return z()})).attr("transform",(function(t,e){return`rotate(${(e+1)%2*180}),translate(0,${e%2?-J:.6*-J})`})),P.append("g").attr("class","resultmarker-bg").attr("transform",(function(t,e){return`translate(0,${e%2?J:0})`})).append("text").attr("class","resultmarker-text").attr("font-size",1*v).text((function(t){return`${Math.round(100*t)} %`}));var M=[];e.selectAll("text.resultmarker-text").each((function(t,e){M[e]=this.getBBox()})),e.selectAll("g.resultmarker-bg").data(M).append("rect").lower().attr("class","resultmarker-bg").attr("x",(function(t){return t.x-t.width*l/2})).attr("y",(function(t){return t.y-t.height*g/2})).attr("width",(function(t){return t.width*(1+l/2)})).attr("height",(function(t){return t.height*(1+g/2)}))}return u.barCVS=function(t,e,a,r,n){u.createBar(e,"bar-gray-bg",a,(function(){return n})),u.createBar(e,"bar-bg",a,(function(){return r(t.result.value)})),u.createBar(e,"bar",a,(function(){return r(t.result.value)}));let d=u.barHeight(a)/2.2,i=e.selectAll("g.marker").data(t.markers).enter().append("g").attr("class",(function(t){return t.active?"marker active":"marker"})).attr("x",(function(t){return r(t.value)})).attr("y",a/2);i.append("circle").attr("r",d).attr("cx",(function(t){return r(t.value)})).attr("cy",a/2),i.append("text").attr("x",(function(t){return r(t.value)})).attr("y",a/2).text((function(t){return t.label})).attr("class","marker-text").attr("font-size",a/2)},u.createBar=function(t,e,a,r){t.append("rect").attr("class",e).attr("width",r).attr("height",(function(){return u.barHeight(a)})).attr("rx",a*g*2).attr("ry",a*g*2).attr("x",0).attr("y",(function(){return u.barMiddlePosition(a)}))},u.barHeight=function(t){return t*(1-2*g)},u.barMiddlePosition=function(t){return t/2-u.barHeight(t)/2},u.width=function(t){return arguments.length?(d=+t,this):d},u.height=function(t){return arguments.length?(i=+t,this):i},u.margins=function(t){return arguments.length?(c=t,this):c},u.data=function(e){return arguments.length?(t=e,this):t},u.addPatternDefinition=function(t){e.select("body").select("svg#d3progresspatternsdef").empty()&&e.select("body").append("svg").attr("id","d3progresspatternsdef").append("defs").selectAll("pattern").data([{pattername:"crosshatch",imagedef:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPSc4JyBoZWlnaHQ9JzgnPgogIDxyZWN0IHdpZHRoPSc4JyBoZWlnaHQ9JzgnIGZpbGw9JyNmZmYnLz4KICA8cGF0aCBkPSdNMCAwTDggOFpNOCAwTDAgOFonIHN0cm9rZS13aWR0aD0nMC41JyBzdHJva2U9JyNhYWEnLz4KPC9zdmc+Cg=="},{pattername:"diagonal-stripe-3",imagedef:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMCcgaGVpZ2h0PScxMCc+CiAgPHJlY3Qgd2lkdGg9JzEwJyBoZWlnaHQ9JzEwJyBmaWxsPSd3aGl0ZScvPgogIDxwYXRoIGQ9J00tMSwxIGwyLC0yCiAgICAgICAgICAgTTAsMTAgbDEwLC0xMAogICAgICAgICAgIE05LDExIGwyLC0yJyBzdHJva2U9J2JsYWNrJyBzdHJva2Utd2lkdGg9JzMnLz4KPC9zdmc+"},{pattername:"whitecarbon",imagedef:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHhtbG5zOnhsaW5rPSdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJyB3aWR0aD0nNicgaGVpZ2h0PSc2Jz4KICA8cmVjdCB3aWR0aD0nNicgaGVpZ2h0PSc2JyBmaWxsPScjZWVlZWVlJy8+CiAgPGcgaWQ9J2MnPgogICAgPHJlY3Qgd2lkdGg9JzMnIGhlaWdodD0nMycgZmlsbD0nI2U2ZTZlNicvPgogICAgPHJlY3QgeT0nMScgd2lkdGg9JzMnIGhlaWdodD0nMicgZmlsbD0nI2Q4ZDhkOCcvPgogIDwvZz4KICA8dXNlIHhsaW5rOmhyZWY9JyNjJyB4PSczJyB5PSczJy8+Cjwvc3ZnPg=="},{pattername:"dots-7",imagedef:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMCcgaGVpZ2h0PScxMCc+CiAgPHJlY3Qgd2lkdGg9JzEwJyBoZWlnaHQ9JzEwJyBmaWxsPSd3aGl0ZScgLz4KICA8cmVjdCB4PScwJyB5PScwJyB3aWR0aD0nNycgaGVpZ2h0PSc3JyBmaWxsPSdibGFjaycgLz4KPC9zdmc+"}]).enter().append("pattern").attr("id",(function(t){return t.pattername})).attr("patternUnits","userSpaceOnUse").attr("width",10).attr("height",10).append("image").attr("xlink:href",(function(t){return t.imagedef})).attr("x",0).attr("y",0).attr("width",10).attr("height",10)},u.addFilterDefinition=function(t,a,r,n,d){if(e.select("body").select("svg#d3progressfiltersdef").empty()){var i=e.select("body").append("svg").attr("id","d3progressfiltersdef").append("defs").append("filter").attr("id","d3std-dropshadow");i.append("feGaussianBlur").attr("in","SourceAlpha").attr("stdDeviation",parseInt(r)),i.append("feOffset").attr("dx",t).attr("dy",a),i.append("feComponentTransfer").append("feFuncA").attr("type",n).attr("slope",parseFloat(d));var c=i.append("feMerge");c.append("feMergeNode"),c.append("feMergeNode").attr("in","SourceGraphic")}},u},Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=d3-progress.min.js.map
