// https://github.com/call-learning/d3-progress.git v1.0.0 Copyright 2019 Laurent David
    //  https://github.com/call-learning/d3-progress v1.0.0. Copyright 2019 SAS CALL Learning
!function(t,a){"object"==typeof exports&&"undefined"!=typeof module?a(exports,require("d3-selection"),require("d3-axis"),require("d3-scale"),require("d3-shape")):"function"==typeof define&&define.amd?define(["exports","d3-selection","d3-axis","d3-scale","d3-shape"],a):a((t=t||self).d3=t.d3||{},t.d3,t.d3,t.d3,t.d3)}(this,(function(t,a,r,e,n){"use strict";t.progress=function(){let t={},c=960,i=100,d={top:20,right:5,bottom:30,left:15},o=function(){return c-d.left-d.right},s=function(){return i-d.top-d.bottom},g=.05,l=.1,u=[0,.25,.5,.75,1];function p(a){p.addPatternDefinition();let m=a.attr("width",c).attr("height",i).append("g").attr("class","progress-cvs").attr("transform",`translate(${d.left},0)`),f=o()*(1-2*g),h=s()*(1-2*l),y=m.append("g").attr("width",f).attr("height",h).attr("transform",`translate(0,${d.top})`);const x=e.scaleLinear().domain([0,1]).range([0,f]);y.append("rect").attr("class","background-bar").attr("width",f).attr("height",h).attr("rx",h*l).attr("ry",h*l).attr("x",0).attr("y",0);const v=d.bottom/3,J=m.append("g").attr("class","axisgraph");J.attr("transform",`translate(0,${h+d.top})`).call(r.axisBottom(x).tickValues(u).tickFormat((function(t){return Math.round(100*t)})).tickSize(v)),J.select(".domain").remove(),J.attr("font-size",v),t.forEach((function(a,r){var e=y.append("g").attr("width",f).attr("height",h/t.length).attr("rx",h*l).attr("ry",h*l).attr("class","comptype-"+a.result.type).attr("transform",`translate(0,${r*(h/t.length)})`);p.barCVS(a,e,h/t.length,x,f)}));let P=t.map((function(t){return t.result.value}));var b=o()/50;const C=m.selectAll("g.resultmarker").data(P).enter().append("g").attr("class","resultmarker").attr("transform",(function(t,a){return`translate(${x(t)},${function(t){return h*(t%2)+d.top}(a)})`}));var z=n.symbol().size(b).type(n.symbolTriangle),H=C.append("g").attr("transform",(function(t,a){return`rotate(${(a+1)%2*180})`}));H.append("path").attr("d",(function(){return z()})).attr("y",.8*b),H.append("g").attr("class","resultmarker-bg").append("text").attr("class","resultmarker-text").attr("dy",(function(t,a){return a%2?b:.5*-b})).text((function(t){return`${Math.round(100*t)} %`}));var Z=[];a.selectAll("text.resultmarker-text").each((function(t,a){Z[a]=this.getBBox()})),a.selectAll("g.resultmarker-bg").attr("transform",(function(t,a){return`rotate(${(a+1)%2*180})`})).data(Z).append("rect").lower().attr("class","resultmarker-bg").attr("x",(function(t){return t.x})).attr("y",(function(t){return t.y})).attr("width",(function(t){return t.width})).attr("height",(function(t){return t.height}))}return p.barCVS=function(t,a,r,e,n){p.createBar(a,"bar-bg",r,(function(){return n})),p.createBar(a,"bar",r,(function(){return e(t.result.value)}));let c=p.barHeight(r)/2,i=a.selectAll("g.marker").data(t.markers).enter().append("g").attr("class",(function(t){return t.active?"marker active":"marker"})).attr("x",(function(t){return e(t.value)})).attr("y",r/2);i.append("circle").attr("r",c).attr("cx",(function(t){return e(t.value)})).attr("cy",r/2),i.append("text").attr("x",(function(t){return e(t.value)})).attr("y",r/2).text((function(t){return t.label})).attr("class","marker-text").attr("font-size",r/2)},p.createBar=function(t,a,r,e){t.append("rect").attr("class",a).attr("width",e).attr("height",(function(){return p.barHeight(r)})).attr("rx",r*l).attr("ry",r*l).attr("x",0).attr("y",(function(){return p.barMiddlePosition(r)}))},p.barHeight=function(t){return t*(1-2*l)},p.barMiddlePosition=function(t){return t/2-p.barHeight(t)/2},p.width=function(t){return arguments.length?(c=+t,this):c},p.height=function(t){return arguments.length?(i=+t,this):i},p.margins=function(t){return arguments.length?(d=t,this):d},p.data=function(a){return arguments.length?(t=a,this):t},p.addPatternDefinition=function(t){a.select("body").select("svg#d3svgpatterndef").empty()&&a.select("body").append("svg").attr("id","d3svgpatterndef").append("defs").selectAll("pattern").data([{pattername:"crosshatch",imagedef:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPSc4JyBoZWlnaHQ9JzgnPgogIDxyZWN0IHdpZHRoPSc4JyBoZWlnaHQ9JzgnIGZpbGw9JyNmZmYnLz4KICA8cGF0aCBkPSdNMCAwTDggOFpNOCAwTDAgOFonIHN0cm9rZS13aWR0aD0nMC41JyBzdHJva2U9JyNhYWEnLz4KPC9zdmc+Cg=="},{pattername:"diagonal-stripe-3",imagedef:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMCcgaGVpZ2h0PScxMCc+CiAgPHJlY3Qgd2lkdGg9JzEwJyBoZWlnaHQ9JzEwJyBmaWxsPSd3aGl0ZScvPgogIDxwYXRoIGQ9J00tMSwxIGwyLC0yCiAgICAgICAgICAgTTAsMTAgbDEwLC0xMAogICAgICAgICAgIE05LDExIGwyLC0yJyBzdHJva2U9J2JsYWNrJyBzdHJva2Utd2lkdGg9JzMnLz4KPC9zdmc+"},{pattername:"whitecarbon",imagedef:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHhtbG5zOnhsaW5rPSdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJyB3aWR0aD0nNicgaGVpZ2h0PSc2Jz4KICA8cmVjdCB3aWR0aD0nNicgaGVpZ2h0PSc2JyBmaWxsPScjZWVlZWVlJy8+CiAgPGcgaWQ9J2MnPgogICAgPHJlY3Qgd2lkdGg9JzMnIGhlaWdodD0nMycgZmlsbD0nI2U2ZTZlNicvPgogICAgPHJlY3QgeT0nMScgd2lkdGg9JzMnIGhlaWdodD0nMicgZmlsbD0nI2Q4ZDhkOCcvPgogIDwvZz4KICA8dXNlIHhsaW5rOmhyZWY9JyNjJyB4PSczJyB5PSczJy8+Cjwvc3ZnPg=="},{pattername:"dots-7",imagedef:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMCcgaGVpZ2h0PScxMCc+CiAgPHJlY3Qgd2lkdGg9JzEwJyBoZWlnaHQ9JzEwJyBmaWxsPSd3aGl0ZScgLz4KICA8cmVjdCB4PScwJyB5PScwJyB3aWR0aD0nNycgaGVpZ2h0PSc3JyBmaWxsPSdibGFjaycgLz4KPC9zdmc+"}]).enter().append("pattern").attr("id",(function(t){return t.pattername})).attr("patternUnits","userSpaceOnUse").attr("width",10).attr("height",10).append("image").attr("xlink:href",(function(t){return t.imagedef})).attr("x",0).attr("y",0).attr("width",10).attr("height",10)},p},Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=d3-progress.min.js.map
