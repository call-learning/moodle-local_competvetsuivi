{{!
   This file is part of Moodle - http://moodle.org/

   Moodle is free software: you can redistribute it and/or modify
   it under the terms of the GNU General Public License as published by
   the Free Software Foundation, either version 3 of the License, or
   (at your option) any later version.

   Moodle is distributed in the hope that it will be useful,
   but WITHOUT ANY WARRANTY; without even the implied warranty of
   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
   GNU General Public License for more details.

   You should have received a copy of the GNU General Public License
   along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
 }}
{{!
  @local_competvetsuivi

  CompetVetSuivi chart template

  The purpose of this template is to generate a graph using the Chart library

  Classes required for JS:
  * graph-class

  Data attributes required for JS:
  * data-graph-type

  Context variables required for this template:
  * uid : the uid of this chart
  * type: can be horizontalBar or radar or...
  * data
  * options

  Example context (json):
  {
      "uid": graph uid,
      "type": graph type (bar chart, ...)
      "data": graph data
      "options": graph options
  }

}}

<svg id="g{{uniqid}}{{compid}}" class="chart-item bullet" data-graph-type="{{type}}" width="100%"></svg>

{{#js}}
    require(['local_competvetsuivi/config', 'local_competvetsuivi/d3-utils'], function(config, d3utils) {
        var uid = 'g{{uniqid}}{{compid}}';
        var d3chart = d3utils.bullet_charts(uid,{{{data}}});
    });
{{/js}}